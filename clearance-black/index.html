<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Clearance Black</title>

  <link rel="stylesheet" href="../style.css">

  <style>
    body{
      margin:0;
      background:#020305;
      color:var(--fg);
      font-family:"JetBrains Mono", monospace;
      overflow:hidden;
    }
    .wrap{ padding:40px; }
    .title{
      font-size:20px;
      margin-bottom:18px;
      letter-spacing:0.08em;
    }
    .status{
      font-size:13px;
      color:var(--dim);
      line-height:18px;
      margin-bottom:18px;
      opacity:0.9;
    }
    .cmdline{ margin-top:8px; font-size:14px; }
    input{
      background:none;
      border:none;
      outline:none;
      color:var(--fg);
      font-family:inherit;
      font-size:14px;
      width:520px;
      max-width:84vw;
    }
    .output{
      margin-top:18px;
      font-size:14px;
      color:var(--dim);
      white-space:pre-line;
      min-height:52px;
    }
    .docs{
      margin-top:26px;
      font-size:14px;
      line-height:28px;
      opacity:0.95;
    }
    .doc{
      display:block;
      color:var(--fg);
      text-decoration:none;
    }
    .doc:hover{ opacity:0.65; }
    .cap{
      color:var(--dim);
      font-size:13px;
      letter-spacing:0.04em;
      margin-bottom:6px;
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="title">CLEARANCE LEVEL: BLACK</div>

    <div class="status">
      ACCESS PROFILE: FULL<br>
      DISCLOSURE: COMPLETE<br>
      AUDIT: SILENT
    </div>

    <div class="cmdline">
      &gt; <input id="cmd" autocomplete="off" autofocus>
    </div>

    <div id="output" class="output"></div>

    <div class="docs">
      <div class="cap">AVAILABLE DOCUMENTS:</div>

      <a class="doc" href="../world.html">WORLD (FULL)</a>
      <a class="doc" href="../mechanics.html">SYSTEM (FULL)</a>
      <a class="doc" href="../subjects.html">SUBJECT INDEX (FULL)</a>
      <a class="doc" href="../subject-alex.html">SUBJECT: ALEX (FULL)</a>
      <a class="doc" href="../subject-kiwi.html">SUBJECT: KIWI (FULL)</a>
      <a class="doc" href="../subject-mentor.html">SUBJECT: MENTOR (FULL)</a>
      <a class="doc" href="../archive.html">ARCHIVE (FULL)</a>
      <a class="doc" href="../state.html">STATE MONITOR (FULL)</a>
      <a class="doc" href="../interface.html">INTERFACE (FULL)</a>
      <a class="doc" href="../index.html">ENTRY (ROOT)</a>
    </div>
  </div>

  <script>
    const input = document.getElementById("cmd");
    const output = document.getElementById("output");

    function respondLines(lines){
      output.textContent = lines.map(x => "> " + x).join("\n");
    }

    function route(key){
      const k = (key || "").trim().toLowerCase();
      const map = {
        world:"../world.html",
        system:"../mechanics.html",
        mechanics:"../mechanics.html",
        subjects:"../subjects.html",
        alex:"../subject-alex.html",
        kiwi:"../subject-kiwi.html",
        mentor:"../subject-mentor.html",
        archive:"../archive.html",
        state:"../state.html",
        interface:"../interface.html",
        entry:"../index.html"
      };
      return map[k] || null;
    }

    input.addEventListener("keydown", (e) => {
      if(e.key !== "Enter") return;

      const raw = input.value.trim();
      const cmd = raw.toLowerCase();
      input.value = "";

      if(!cmd){
        respondLines(["AWAITING INPUT"]);
        return;
      }

      if(cmd === "exit"){
        respondLines(["RETURNING"]);
        setTimeout(()=>history.back(), 250);
        return;
      }

      const url = route(cmd);
      if(url){
        respondLines(["OPENING: " + cmd.toUpperCase(), "ROUTE: " + url]);
        setTimeout(()=>location.href=url, 250);
        return;
      }

      respondLines(["UNRECOGNIZED"]);
    });
  </script>
</body>
</html>
