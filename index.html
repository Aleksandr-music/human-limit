<!-- index.html | Multi-Project Entry Node -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>SYSTEM ENTRY NODE</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;600&display=swap" rel="stylesheet">

  <!-- Versioned to reduce stale cache issues -->
  <link rel="stylesheet" href="style.css?v=4">

  <style>
    :root{
      --line: rgba(255,255,255,.14);
      --muted: rgba(255,255,255,.68);
      --hard: rgba(255,255,255,.92);
      --pad: 22px;
      --max: 980px;
    }
    html,body{height:100%}
    body{
      margin:0;
      font-family:"JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      color:var(--hard);
      background:#000;
      overflow-x:hidden;
    }
    .wrap{
      position:relative;
      min-height:100%;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:70px var(--pad);
    }
    .panel{
      width:min(var(--max), 100%);
      border:1px solid var(--line);
      border-radius:18px;
      padding:28px 22px;
    }
    .title{
      margin:0 0 12px;
      text-transform:uppercase;
      letter-spacing:.14em;
      font-size:18px;
      line-height:1.2;
    }
    .tag{
      margin:0 0 18px;
      color:var(--muted);
      font-size:13px;
      letter-spacing:.02em;
      line-height:1.6;
    }
    .cta{
      display:flex;
      gap:12px;
      flex-wrap:wrap;
      align-items:center;
      margin-top:18px;
    }
    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      padding:14px 16px;
      border-radius:14px;
      border:1px solid var(--line);
      color:var(--hard);
      background:rgba(0,0,0,.35);
      text-decoration:none;
      letter-spacing:.08em;
      text-transform:uppercase;
      font-size:12px;
      min-width:260px;
    }
    .btn:hover{ border-color: rgba(255,255,255,.28); }

    .hint{
      margin-top:16px;
      color:rgba(255,255,255,.52);
      font-size:12px;
      line-height:1.5;
    }
    .row{
      display:flex;
      gap:12px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:space-between;
      border-top:1px solid rgba(255,255,255,.10);
      margin-top:18px;
      padding-top:14px;
      color:rgba(255,255,255,.56);
      font-size:12px;
      letter-spacing:.04em;
    }
    .mono{ letter-spacing:.10em; text-transform:uppercase; }

    /* Local lock state (pre-consent): buttons disabled */
    .hl-locked .cta .btn{
      pointer-events:none;
      opacity:.38;
      filter:saturate(.4);
    }
    .hl-locked .cta .btn:hover{
      border-color: var(--line);
    }
  </style>
</head>

<body data-bg="entry">
  <!-- Consent overlay -->
  <div id="hl-consent" class="hl-consent hidden" aria-hidden="true">
    <div class="hl-consent-panel" role="dialog" aria-modal="true" aria-label="Data observation notice">
      <div class="hl-consent-title">DATA OBSERVATION NOTICE</div>
      <div class="hl-consent-text">
        This interface records anonymous behavioral telemetry.<br>
        No personal identity is stored or exposed.<br>
        Interaction patterns may be analyzed to improve system stability.
      </div>
      <div class="hl-consent-actions">
        <button id="hl-accept" class="hl-btn" type="button">ACCEPT</button>
        <button id="hl-decline" class="hl-btn muted" type="button">DECLINE</button>
      </div>
    </div>
  </div>

  <div class="sys-node" aria-hidden="true">
    <span class="dot"></span>
    <span class="label">NODE: ACTIVE</span>
  </div>

  <main class="wrap">
    <section class="panel" aria-label="Entry node">
      <h1 class="title">SYSTEM ENTRY NODE</h1>
      <p class="tag">Select project. Access requires valid entry code.</p>

      <div class="cta" aria-label="Project list">
        <a class="btn" href="hl-access.html">HUMAN LIMIT</a>
        <a class="btn" href="bv-access.html">BLACK VEIL</a>
        <a class="btn" href="sg-access.html">SILENT GRID</a>
      </div>

      <div class="hint">
        Index does not expose content.<br>
        It routes to project-specific access gates.
      </div>

      <div class="row">
        <div class="mono">ENTRY NODE</div>
        <div>Visibility: <span class="mono">Restricted</span></div>
      </div>
    </section>
  </main>

  <script>
    (function(){
      const KEY = "hl_consent_state"; // "accepted" | "declined"
      const consent = document.getElementById("hl-consent");
      const accept = document.getElementById("hl-accept");
      const decline = document.getElementById("hl-decline");

      function showConsent(){
        document.body.classList.add("hl-locked");
        consent.classList.remove("hidden");
        consent.setAttribute("aria-hidden","false");
      }

      function hideConsent(){
        document.body.classList.remove("hl-locked");
        consent.classList.add("hidden");
        consent.setAttribute("aria-hidden","true");
      }

      const state = localStorage.getItem(KEY);
      if (state !== "accepted" && state !== "declined"){
        showConsent();
      }

      accept.addEventListener("click", function(){
        localStorage.setItem(KEY, "accepted");
        hideConsent();
        // Tracking scripts should be initialized ONLY after this point (later step).
      });

      decline.addEventListener("click", function(){
        localStorage.setItem(KEY, "declined");
        hideConsent();
        // No tracking should run in this state (later step).
      });

    })();
  </script>
<script src="hl-core.js" defer></script>
</body>
</html>